\newcommand{\executeiffilenewer}[3]{%
\ifnum\pdfstrcmp{\pdffilemoddate{#1}}{\pdffilemoddate{#2}}>0{%
  \immediate\write18{#3}}%
\fi%
}

\newcommand{\iffilenewer}[3]{%
\ifnum\pdfstrcmp{\pdffilemoddate{#1}}{\pdffilemoddate{#2}}>0 %
  {#3}%
\fi%
}

\newcommand{\inkscape}[1]{%
  \immediate\write18{inkscape -z -D --file=#1.svg --export-pdf=#1.pdf}%
}

\newcommand{\inkscapeid}[2]{%
  \immediate\write18{inkscape -z -D -i #2 --file=#1.svg --export-pdf=#1_#2.pdf}%
}

\newcommand{\inkscapetex}[1]{%
  \immediate\write18{inkscape -z -D --file=#1.svg --export-pdf=#1.pdf --export-latex}%
}

\newcommand{\inkscapetexid}[2]{%
  \immediate\write18{%
    inkscape -z -D -i #2 --file=#1.svg --export-pdf=#1_#2.pdf --export-latex}%
}

\newcommand{\includesvg}[2][]{%
\IfFileExists{#2.pdf}%
  {\iffilenewer{#2.svg}{#2.pdf}{\inkscape{#2}}}%
  {\inkscape{#2}}%
\includegraphics[#1]{#2.pdf}%
}

\newcommand{\includesvgtex}[2][1.0]{%
\IfFileExists{#2.pdf}%
  {\iffilenewer{#2.svg}{#2.pdf}{\inkscapetex{#2}}}%
  {\inkscapetex{#2}}%
\def\svgwidth{#1\columnwidth}%
\input{#2.pdf_tex}%
}

\newcommand{\includesvgid}[3][]{%
\IfFileExists{#2_#3.pdf}%
  {\iffilenewer{#2.svg}{#2_#3.pdf}{\inkscapeid{#2}{#3}}}%
  {\inkscapeid{#2}{#3}}%
\includegraphics[#1]{#2_#3.pdf}%
}

\newcommand{\includesvgtexid}[3][1.0]{%
\IfFileExists{#2_#3.pdf}%
  {\iffilenewer{#2.svg}{#2_#3.pdf}{\inkscapetexid{#2}{#3}}}%
  {\inkscapetexid{#2}{#3}}%
\def\svgwidth{#1\columnwidth}%
\input{#2_#3.pdf_tex}%
}
